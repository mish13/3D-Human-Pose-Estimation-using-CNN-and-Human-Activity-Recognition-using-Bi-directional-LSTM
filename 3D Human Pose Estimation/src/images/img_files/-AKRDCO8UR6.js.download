if (self.CavalryLogger) { CavalryLogger.start_js(["agxmI"]); }

__d("SUISimpleModal",["DOM","LayerAutoFocusReact","LayerHideOnBlur","LayerHideOnEscape","React","ReactDOM","SUIModal.react","SUIModalCancelButton.react","SUIModalFooter.react","SUIModalHeader.react","SUIModalOkayButton.react","SUITheme"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={create:function(a){return g._createDialog(g._populateArgs(a))},show:function(a){g._showDialog(g._populateArgs(a))},createConfirm:function(a){return g._createDialog(g._populateArgsConfirm(a))},showConfirm:function(a){g._showDialog(g._populateArgsConfirm(a))},_getOnHide:function(a){var c=b("DOM").create("div");function d(d){a&&a(d),b("ReactDOM").unmountComponentAtNode(c),b("DOM").remove(c)}return{dialogRoot:c,onHide:d}},_populateArgs:function(a){var c=g._getOnHide(a.callback),d=a.footer;if(!d){var e;d=b("React").createElement(b("SUIModalFooter.react"),{leftContent:(e=a)!=null?(e=e.options)!=null?e.leftContent:e:e,primaryButton:b("React").createElement(b("SUIModalOkayButton.react"),{layerAction:"cancel",use:"confirm"})})}return babelHelpers["extends"]({},a,c,{footer:d})},_populateArgsConfirm:function(a){var c=g._getOnHide(a.callback),d=a.footer;function e(){c.onHide&&c.onHide(!0)}if(!d){var f;d=b("React").createElement(b("SUIModalFooter.react"),{leftContent:(f=a)!=null?(f=f.options)!=null?f.leftContent:f:f,primaryButton:b("React").createElement(b("SUIModalOkayButton.react"),{layerAction:"button",onClick:e,use:"confirm"}),secondaryButton:b("React").createElement(b("SUIModalCancelButton.react"),{layerAction:"cancel"})})}return babelHelpers["extends"]({},a,c,{footer:d})},_createDialog:function(a){var c=a.body,d=a.footer,e=a.label,f=a.onHide,g=a.options,h=a.theme;a=a.title;var i;a&&(i=b("React").createElement(b("SUIModalHeader.react"),{title:a}));function j(){f(!1)}return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerHideOnEscape:b("LayerHideOnEscape"),LayerHideOnBlur:((a=g)!=null?a.hideOnBlur:a)!==!1?b("LayerHideOnBlur"):null,LayerAutoFocusReact:((a=g)!=null?a.useReactFocusBehavior:a)?b("LayerAutoFocusReact"):null},footer:d,header:i,isShown:!0,label:e,onHide:j,theme:h,width:g&&g.width?g.width:400},c)},_showDialog:function(a){var c=a.dialogRoot;b("ReactDOM").render(g._createDialog(a),c)}};e.exports=g}),null);
__d("PageCreatorController",["fbt","Arbiter","AsyncDialog","AsyncRequest","React","SUIBusinessTheme","SUISimpleModal"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a.accountID!=null?a.accountID:0,this.$2=a.allowUpload!=null?a.allowUpload:!0,this.$4=a.businessID,this.$5=a.initialImageUrl,this.$6=a.initialName,this.$7=a.initialWebsite,this.$9=a.onPageCreated,this.$10=a.onProgress,this.$3=null,this.$8=!1,this.$11=null}var c=a.prototype;c.showPageCreationDialog=function(){var a=this;b("AsyncDialog").send(new(b("AsyncRequest"))("/ajax/ads/create/page/category/"),function(c){a.$11=null,a.$3=b("Arbiter").subscribe("pageSupercategorySelected",function(b,d){a.$11=d,c.hide()}),c.subscribe("hide",function(c,d){a.$3&&b("Arbiter").unsubscribe(a.$3),a.$3=null,a.$11?a.$12(a.$11):a.$13("cancel_category")})})};c.$12=function(a){var c=this;a={name:this.$6,profilePic:this.$5,website:this.$7,parent_category:a,accountId:this.$1,businessID:this.$4,allowUpload:this.$2};this.$8=!1;b("AsyncDialog").send(new(b("AsyncRequest"))("/ajax/ads/create/page/page_creator/").setData(a),function(a){a.subscribe("success",function(b,d){b=d.data;b&&b.response&&b.response.payload&&c.$14(b.response.payload,a)}),a.subscribe("hide",function(a,b){c.$8||c.$13("cancel_fields")})})};c.$14=function(a,b){a.page&&(this.$8=!0,b.hide(),this.$9&&this.$9(a.page),a.warnings&&this.$15(g._("Create a Page"),a.warnings),this.$13("success",{page_id:a.page.id}))};c.$15=function(a,c){c=b("React").createElement("ul",null,c.map(function(a){return b("React").createElement("li",null,a)}));b("SUISimpleModal").show({body:c,theme:b("SUIBusinessTheme"),title:a})};c.$13=function(a,b){this.$10&&this.$10(a,b)};return a}();e.exports=a}),null);
__d("RadioList.react",["cx","React","ReactDOM"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("React").Children.map(this.props.children,function(a){return b("React").cloneElement(a,{name:this.props.name,onSelect:this.props.onValueChange,selectedValue:this.props.selectedValue})},this);return b("React").createElement("ul",babelHelpers["extends"]({},this.props,{name:null}),a)};return c}(b("React").Component);a.Item=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.handleChange=function(a){a=a.nativeEvent&&a.nativeEvent.target||b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d)).firstChild;a.checked&&(d.props.onSelect&&d.props.onSelect(d.props.value))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement("li",this.props,b("React").createElement("input",{checked:this.props.value===this.props.selectedValue,name:this.props.name,onChange:this.handleChange,type:"radio",value:this.props.value}),this.props.children)};return c}(b("React").Component);a.LabeledItem=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.handleChange=function(a){a=a.nativeEvent&&a.nativeEvent.target||b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d)).firstChild.firstChild;a&&a.checked&&(d.props.onSelect&&d.props.onSelect(d.props.value))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a="_544g"+(this.props.disabled?" _5kol":"");return b("React").createElement("li",this.props,b("React").createElement("label",{className:a},b("React").createElement("input",{disabled:this.props.disabled,checked:this.props.value===this.props.selectedValue,name:this.props.name,onChange:this.props.disabled?null:this.handleChange,type:"radio",value:this.props.value}),this.props.children))};return c}(b("React").Component);e.exports=a}),null);
__d("XFamilyBulkTagAddAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/family/bulk_tag_save/",{subject:{type:"Int"},save_tags:{type:"String"}})}),null);
__d("PhotoTagStore",["ActorURI","AsyncRequest","XFamilyBulkTagAddAsyncController","isEmpty"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this._tagList={},this._textTagList={},this._originalTagList={},this._dirtyPhotosByUid={},a.instance=this}var c=a.prototype;c.getPhotoTags=function(a){return this._tagList[a]||{}};c.photoHasTags=function(a){return!b("isEmpty")(this.getPhotoTags(a))};c.clear=function(){this._tagList={},this._textTagList={},this._originalTagList={},this._dirtyPhotosByUid={}};c.addTag=function(a,b,c,d){a[b]=a[b]||{};var e=a[b][c]||[];e.push(d);a[b][c]=e};c.revert=function(a){var c=this._tagList,d=this._originalTagList;for(var e in c)b("isEmpty")(d[e][a])?c[e][a]=[]:c[e][a]=d[e][a];this._dirtyPhotosByUid={}};c.hasNewTags=function(){return!b("isEmpty")(this._tagList)||!b("isEmpty")(this._textTagList)};c.userHasDirtyTags=function(a){return!b("isEmpty")(this._dirtyPhotosByUid[a])};c.userDirtyTagsCount=function(a){return Object.keys(this._dirtyPhotosByUid[a]).length};c.handleTagFetch=function(a){for(var b in a)this.loadTagInfo(b,a[b])};c.saveAlbumTagsForUser=function(a,c,d,e){__p&&__p();e===void 0&&(e=!1);var f={},g=[],h=this._dirtyPhotosByUid[a]||{};for(var i in h){h=this._tagList[i][a];if(b("isEmpty")(h)){g[g.length]=i;continue}h.forEach(function(a){f[i]={x:a.x,y:a.y}})}h={subject:a,action:"save",save_tags:f};g=b("ActorURI").create("/ajax/photos/album/tags.php",c);e&&(h={subject:a,save_tags:JSON.stringify(f)},g=b("XFamilyBulkTagAddAsyncController").getURIBuilder().getURI());new(b("AsyncRequest"))().setURI(g).setData(h).setHandler(function(a){d(a.payload)}).setAllowCrossPageTransition(!0).send();delete this._dirtyPhotosByUid[a]};c.getTagsFromList=function(a){var b=[];for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))for(var d in a[c])Object.prototype.hasOwnProperty.call(a[c],d)&&a[c][d].forEach(function(a){return b.push(a)});return b};c.getAllTags=function(){var a=this.getTagsFromList(this._tagList),b=this.getTagsFromList(this._textTagList);return a.concat(b)};c.removeTag=function(a,c){var d=this._tagList[a],e=this._originalTagList[a]||{};e[c]?(this._dirtyPhotosByUid[c]=this._dirtyPhotosByUid[c]||{},this._dirtyPhotosByUid[c][a]=!0):delete this._dirtyPhotosByUid[c][a];for(var f in d)if(f==c){e=this._tagList[a][f];delete this._tagList[a][f];b("isEmpty")(this._tagList[a])&&delete this._tagList[a];return e}};c.removeTextTag=function(a,c){var d=this._textTagList[a];if(!b("isEmpty")(d[c])){d=this._textTagList[a][c];this._textTagList[a][c]=[];b("isEmpty")(this._textTagList[a])&&delete this._textTagList[a];return d}return[]};c.removeAllNewTagsOfUser=function(a){var b=[];if(!this.userHasDirtyTags(a))return b;var c=this._dirtyPhotosByUid[a];for(var d in c)b=b.concat(this.removeTag(d,a));return b};c.removeAllTagsFromPhoto=function(a){__p&&__p();var c=[];if(!b("isEmpty")(this._tagList[a]))for(var d in this._tagList[a]){if(!Object.prototype.hasOwnProperty.call(this._tagList[a],d))continue;c=c.concat(this.removeTag(a,d))}if(!b("isEmpty")(this._textTagList[a]))for(var e in this._textTagList[a]){if(!Object.prototype.hasOwnProperty.call(this._textTagList[a],e))continue;c=c.concat(this.removeTextTag(a,e))}return c};c.storeTag=function(a,b,c,d,e){this.storeTagWithOptions(a,b,c,d,{can_remove:e})};c.storeTagWithOptions=function(a,b,c,d,e){this._dirtyPhotosByUid[b]=this._dirtyPhotosByUid[b]||{};this._dirtyPhotosByUid[b][a]=!0;c={x:c,y:d};Object.assign(c,e);!b?this.addTag(this._textTagList,a,c.name,c):this.addTag(this._tagList,a,b,c)};c.loadTagInfo=function(a,b){this._tagList[a]={};this._originalTagList[a]={};for(var c=0;c<b.length;c++){var d=b[c];this.addTag(this._tagList,a,d.subject,d);this.addTag(this._originalTagList,a,d.subject,d)}};a.getInstance=function(){a.instance===null&&new a();return a.instance};return a}();a.instance=null;e.exports=a}),null);
__d("SUIPopoverFooter.react",["cx","React","SUIComponent","SUIHorizontalLayout.react","SUITheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("SUITheme").get(this).SUIPopover.footer;return b("React").createElement("div",{className:"_3-8u _2pi4 _2sk_",style:a},b("React").createElement("span",{className:"_2sl0"},b("React").createElement(b("SUIHorizontalLayout.react"),null,this.props.secondaryButton,this.props.primaryButton)))};return c}(b("SUIComponent"));c.propTypes={primaryButton:a.node,secondaryButton:a.node};e.exports=c}),null);
__d("requireDeferredForDisplay",["RequireDeferredReference"],(function(a,b,c,d,e,f){"use strict";function a(a){return new(b("RequireDeferredReference"))(a)}e.exports=a}),null);
__d("BusinessVerificationStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FAILED:"failed",NOT_VERIFIED:"not_verified",PENDING_SUBMISSION:"pending_submission",PENDING:"pending",PENDING_NEED_MORE_INFO:"pending_need_more_info",VERIFIED:"verified"})}),null);
__d("PixelBasePageLoadEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INITIALIZED:"PixelInitialized",PAGE_VIEW:"PageView",MISSING:"__missing_event"})}),null);